{"version":3,"sources":["webpack:///./src/pages/projects.js","webpack:///./src/utils/helpers.js"],"names":["data","useState","filteredData","query","state","setState","allFeaturedImages","allFile","edges","allPosts","allMarkdownRemark","featuredImageMap","Utils","getImageMap","handleChange","param","e","target","value","filter","post","node","frontmatter","description","title","tags","stdQuery","toLowerCase","excerpt","includes","join","filteredPosts","className","type","placeholder","onChange","style","display","pill","variant","onClick","fluid","map","key","id","to","fields","slug","featuredImage","startDate","start","endDate","end","season","year","images","regex","hasMultipleImages","limit","reduce","image","relativePath","match","hasOwnProperty","length","push","childImageSharp","arr","getCaptionMap","captions","caption","fileAbsolutePath"],"mappings":"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","file":"component---src-pages-projects-js-d3aab6ca42ecae016912.js","sourcesContent":["import React, { useState } from \"react\"\nimport { graphql } from \"gatsby\"\nimport { PageLayout, PageTitle, ProjectLink } from \"../components\"\nimport { SEO, Utils } from \"../utils\"\nimport { Container, Form, FormControl, Badge } from \"react-bootstrap\"\n\nexport default ({ data }) => {\n  const [state, setState] = useState({\n    filteredData: [],\n    query: \"\",\n  })\n\n  const allFeaturedImages = data.allFile.edges || []\n  const allPosts = data.allMarkdownRemark.edges || []\n  const regex = /\\/[projects].*\\/|$/\n  const featuredImageMap = Utils.getImageMap(allFeaturedImages, regex)\n\n  function handleChange(param) {\n    return e => {\n      let query = \"\"\n      if (!param) {\n        query = e.target.value\n      } else {\n        query = param\n      }\n      const filteredData =\n        param === \"x\"\n          ? allPosts\n          : allPosts.filter(post => {\n              const { description, title, tags } = post.node.frontmatter\n              const stdQuery = query.toLowerCase()\n              return (\n                post.node.excerpt.toLowerCase().includes(stdQuery) ||\n                (description && description.toLowerCase().includes(stdQuery)) ||\n                title.toLowerCase().includes(stdQuery) ||\n                (tags && tags.join(\"\").toLowerCase().includes(stdQuery))\n              )\n            })\n\n      setState({\n        query,\n        filteredData,\n      })\n    }\n  }\n\n  const { filteredData, query } = state\n  const filteredPosts = query !== \"\" ? filteredData : allPosts\n\n  return (\n    <PageLayout>\n      <SEO title=\"Projects\" />\n      <PageTitle title=\"Projects\" />\n      <Container className=\"px-5 mb-5 text-center\">\n        <Form className=\"blog-filter\">\n          <FormControl\n            className=\"search\"\n            type=\"text\"\n            placeholder=\"search\"\n            onChange={handleChange}\n          />\n        </Form>\n      </Container>\n      <Container>\n        <p style={{ display: \"inline\" }}>quick search: &nbsp;</p>\n        <Badge\n          pill\n          variant=\"dark\"\n          className=\"img-hover px-3 mb-1 mr-1\"\n          onClick={handleChange(\"data viz\")}\n        >\n          <h6 className=\"text-white my-0 prevent-select\">data viz</h6>\n        </Badge>\n        <Badge\n          pill\n          variant=\"dark\"\n          className=\"img-hover px-3 mb-1 mr-1\"\n          onClick={handleChange(\"hackathon\")}\n        >\n          <h6 className=\"text-white my-0 prevent-select\">hackathon</h6>\n        </Badge>\n        <Badge\n          pill\n          variant=\"dark\"\n          className=\"img-hover px-3 mb-1 mr-1\"\n          onClick={handleChange(\"politics\")}\n        >\n          <h6 className=\"text-white my-0 prevent-select\">politics</h6>\n        </Badge>\n        <Badge\n          pill\n          variant=\"dark\"\n          className=\"img-hover px-3 mb-1 mr-1\"\n          onClick={handleChange(\"react\")}\n        >\n          <h6 className=\"text-white my-0 prevent-select\">react</h6>\n        </Badge>\n        <Badge\n          pill\n          variant=\"dark\"\n          className=\"img-hover px-3 mb-1 mr-1\"\n          onClick={handleChange(\"rutgers\")}\n        >\n          <h6 className=\"text-white my-0 prevent-select\">rutgers</h6>\n        </Badge>\n        <Badge\n          pill\n          className=\"img-hover px-2 mb-1 mr-1\"\n          onClick={handleChange(\"x\")}\n        >\n          <h6 className=\"text-white my-0 prevent-select\">‚ùå</h6>\n        </Badge>\n      </Container>\n      <Container\n        fluid\n        className=\"p-3 w-auto text-left d-flex flex-wrap justify-content-center\"\n      >\n        {filteredPosts.map(({ node }) => (\n          <div key={node.id} className=\"p-3\">\n            <ProjectLink\n              to={node.fields.slug}\n              featuredImage={featuredImageMap[node.fields.slug]}\n              title={node.frontmatter.title}\n              startDate={node.frontmatter.start}\n              endDate={node.frontmatter.end}\n              season={node.frontmatter.season}\n              year={node.frontmatter.year}\n              tags={node.frontmatter.tags}\n              excerpt={node.excerpt}\n              description={node.frontmatter.description}\n            />\n          </div>\n        ))}\n      </Container>\n    </PageLayout>\n  )\n}\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      filter: { fileAbsolutePath: { regex: \"/projects/\" } }\n      sort: { fields: [frontmatter___end], order: DESC }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            description\n            tags\n            start(formatString: \"MMMM YYYY\")\n            end(formatString: \"MMMM YYYY\")\n            season\n            year\n            index\n          }\n          fields {\n            slug\n          }\n          excerpt\n        }\n      }\n    }\n    allFile(\n      filter: {\n        relativePath: { regex: \"/feature/\" }\n        relativeDirectory: { regex: \"/content/projects/\" }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 400, quality: 100) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n          relativePath\n        }\n      }\n    }\n  }\n`\n","export default {\n  getImageMap: (images, regex, hasMultipleImages = false, limit = 3) => {\n    return images.reduce((map, image) => {\n      const slug = image.node.relativePath.match(regex)[0]\n      if (hasMultipleImages) {\n        if (map.hasOwnProperty(slug)) {\n          if (map[slug].length <= limit)\n            map[slug].push(image.node.childImageSharp.fluid)\n        } else {\n          const arr = []\n          arr.push(image.node.childImageSharp.fluid)\n          map[slug] = arr\n        }\n      } else {\n        map[slug] = image.node.childImageSharp.fluid\n      }\n      return map\n    }, {})\n  },\n\tgetCaptionMap: (captions, regex, hasMultipleImages = false, limit = 3) => {\n    return captions.reduce((map, caption) => {\n      const slug = caption.node.fileAbsolutePath.match(regex)[0]\n      map[slug] = caption.node.frontmatter.caption\n      return map\n    }, {})\n  },\n}\n"],"sourceRoot":""}